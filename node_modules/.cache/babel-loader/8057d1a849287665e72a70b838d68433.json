{"ast":null,"code":"import _classCallCheck from \"/Users/athom/Desktop/codingProjects/theJackProject/jackFront/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/athom/Desktop/codingProjects/theJackProject/jackFront/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/athom/Desktop/codingProjects/theJackProject/jackFront/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/athom/Desktop/codingProjects/theJackProject/jackFront/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/athom/Desktop/codingProjects/theJackProject/jackFront/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/athom/Desktop/codingProjects/theJackProject/jackFront/src/Pages/Dashboard.js\";\nimport React, { Component } from 'react';\nimport AuthService from '../services';\nimport My_Task_Card from '../Components/My_task_card';\nimport { getMyTasks, getMyTask } from '../API';\n\nvar Dashboard =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Dashboard, _Component);\n\n  function Dashboard(props) {\n    var _this;\n\n    _classCallCheck(this, Dashboard);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Dashboard).call(this, props));\n\n    _this.componentDidMount = function () {\n      var thisUserID = _this.auth.getUserId();\n\n      console.log(thisUserID);\n\n      if (thisUserID !== null && thisUserID !== undefined && thisUserID.length > 0) {\n        getMyTasks(thisUserID).then(function (APImyTasks) {\n          // let { myTasks } = this.state\n          _this.setState({\n            myTasks: APImyTasks,\n            userID: thisUserID\n          });\n        });\n      }\n    };\n\n    _this.addDays = function (today, days) {\n      var date = new Date(today);\n      var dateInDays = date.getDate();\n      date.setDate(dateInDays + days);\n      return date;\n    };\n\n    _this.tabClick = function (tabNum) {\n      _this.setState({\n        activeTab: tabNum\n      });\n\n      console.log(tabNum);\n    };\n\n    _this.auth = new AuthService();\n    _this.state = {\n      myTasks: [],\n      activeTab: 0\n    };\n    return _this;\n  }\n\n  _createClass(Dashboard, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var stillLoading = true;\n      var myTasks = this.state.myTasks;\n      var today = new Date();\n      var todayUTC = Date.UTC(today.getUTCFullYear(), today.getUTCMonth(), today.getUTCDate(), today.getUTCHours(), today.getUTCMinutes(), today.getUTCSeconds());\n      var homeTasks = myTasks.filter(function (el) {\n        return el.task.category === \"House\";\n      });\n      var carTasks = myTasks.filter(function (el) {\n        return el.task.category === \"Car\";\n      });\n      var todayTasks = myTasks.filter(function (el) {\n        var temp = new Date(el.my_task.due_date);\n        var tempUTC = Date.UTC(temp.getUTCFullYear(), temp.getUTCMonth(), temp.getUTCDate(), temp.getUTCHours(), temp.getUTCMinutes(), temp.getUTCSeconds());\n        return tempUTC === todayUTC || tempUTC < todayUTC;\n      });\n      var next30Days = myTasks.filter(function (el) {\n        var temp = new Date(el.my_task.due_date);\n        var tempUTC = Date.UTC(temp.getUTCFullYear(), temp.getUTCMonth(), temp.getUTCDate(), temp.getUTCHours(), temp.getUTCMinutes(), temp.getUTCSeconds());\n        return tempUTC < _this2.addDays(todayUTC, 30) && tempUTC > todayUTC;\n      });\n      var next3Months = myTasks.filter(function (el) {\n        var temp = new Date(el.my_task.due_date);\n        var tempUTC = Date.UTC(temp.getUTCFullYear(), temp.getUTCMonth(), temp.getUTCDate(), temp.getUTCHours(), temp.getUTCMinutes(), temp.getUTCSeconds());\n        return tempUTC < _this2.addDays(todayUTC, 90);\n      });\n      return React.createElement(\"main\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(\"section\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"greeting\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, \"Dashboard:\")), React.createElement(\"div\", {\n        className: \"table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"section\", {\n        className: \"testing DashboardContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"section\", {\n        className: \"tabsContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        onClick: function onClick() {\n          return _this2.tabClick(0);\n        },\n        className: \"dashboardTab todayTab\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, \"Today/Overdue\"), React.createElement(\"div\", {\n        onClick: function onClick() {\n          return _this2.tabClick(1);\n        },\n        className: \"dashboardTab\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, \"Next 30 Days\"), React.createElement(\"div\", {\n        onClick: function onClick() {\n          return _this2.tabClick(2);\n        },\n        className: \"dashboardTab\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, \"Next 3 Months\"), React.createElement(\"div\", {\n        onClick: function onClick() {\n          return _this2.tabClick(5);\n        },\n        className: \"dashboardTab\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"All My Tasks\"))), React.createElement(\"section\", {\n        className: \"tilesContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, function () {\n        switch (_this2.state.activeTab) {\n          case 0:\n            return todayTasks.length > 0 ? todayTasks.map(function (el, i) {\n              return React.createElement(My_Task_Card, {\n                addDays: _this2.addDays,\n                key: i,\n                info: el,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 77\n                },\n                __self: this\n              });\n            }) : React.createElement(\"h3\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 79\n              },\n              __self: this\n            }, \"No tasks due today.\");\n\n          case 1:\n            return next30Days.length > 0 ? next30Days.map(function (el, i) {\n              return React.createElement(My_Task_Card, {\n                addDays: _this2.addDays,\n                key: i,\n                info: el,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 83\n                },\n                __self: this\n              });\n            }) : React.createElement(\"h3\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 85\n              },\n              __self: this\n            }, \"No tasks due in next 30 days.\");\n\n          case 2:\n            return next3Months.length > 0 ? next3Months.map(function (el, i) {\n              return React.createElement(My_Task_Card, {\n                addDays: _this2.addDays,\n                key: i,\n                info: el,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 89\n                },\n                __self: this\n              });\n            }) : React.createElement(\"h3\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 91\n              },\n              __self: this\n            }, \"No tasks due in next 90 Days.\");\n\n          case 3:\n            return homeTasks.length > 0 ? homeTasks.map(function (el, i) {\n              return React.createElement(My_Task_Card, {\n                addDays: _this2.addDays,\n                key: i,\n                info: el,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 95\n                },\n                __self: this\n              });\n            }) : React.createElement(\"h3\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 97\n              },\n              __self: this\n            }, \"Home.\");\n\n          case 4:\n            return carTasks.length > 0 ? carTasks.map(function (el, i) {\n              return React.createElement(My_Task_Card, {\n                addDays: _this2.addDays,\n                key: i,\n                info: el,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 101\n                },\n                __self: this\n              });\n            }) : React.createElement(\"h3\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 103\n              },\n              __self: this\n            }, \"Car.\");\n\n          case 5:\n            return myTasks.length > 0 ? myTasks.map(function (el, i) {\n              return React.createElement(My_Task_Card, {\n                addDays: _this2.addDays,\n                key: i,\n                info: el,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 107\n                },\n                __self: this\n              });\n            }) : React.createElement(\"h3\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 109\n              },\n              __self: this\n            }, \"You do not have any tasks assigned to you. Click \\\"All Tasks\\\" in the header to assign yourself tasks.\");\n        }\n      }())));\n    }\n  }]);\n\n  return Dashboard;\n}(Component);\n\nexport default Dashboard;","map":{"version":3,"sources":["/Users/athom/Desktop/codingProjects/theJackProject/jackFront/src/Pages/Dashboard.js"],"names":["React","Component","AuthService","My_Task_Card","getMyTasks","getMyTask","Dashboard","props","componentDidMount","thisUserID","auth","getUserId","console","log","undefined","length","then","APImyTasks","setState","myTasks","userID","addDays","today","days","date","Date","dateInDays","getDate","setDate","tabClick","tabNum","activeTab","state","stillLoading","todayUTC","UTC","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","homeTasks","filter","el","task","category","carTasks","todayTasks","temp","my_task","due_date","tempUTC","next30Days","next3Months","map","i"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport AuthService from '../services';\nimport My_Task_Card from '../Components/My_task_card';\nimport { getMyTasks, getMyTask } from '../API'\n\nclass Dashboard extends Component {\n  constructor(props) {\n    super(props)\n\n    this.auth = new AuthService()\n    this.state = {\n      myTasks: [],\n      activeTab: 0\n    }\n  }\n\n  render(){\n    let stillLoading = true;\n    let { myTasks } = this.state\n    let today = new Date()\n    let todayUTC = Date.UTC(today.getUTCFullYear(), today.getUTCMonth(), today.getUTCDate(),\n     today.getUTCHours(), today.getUTCMinutes(), today.getUTCSeconds());\n    let homeTasks = myTasks.filter(el => el.task.category === \"House\")\n    let carTasks = myTasks.filter(el => el.task.category === \"Car\")\n    let todayTasks = myTasks.filter((el) => {\n      let temp = new Date(el.my_task.due_date)\n      let tempUTC = Date.UTC(temp.getUTCFullYear(), temp.getUTCMonth(), temp.getUTCDate(),\n       temp.getUTCHours(), temp.getUTCMinutes(), temp.getUTCSeconds());\n      return tempUTC === todayUTC || tempUTC < todayUTC\n    })\n\n    let next30Days = myTasks.filter((el) => {\n      let temp = new Date(el.my_task.due_date)\n      let tempUTC = Date.UTC(temp.getUTCFullYear(), temp.getUTCMonth(), temp.getUTCDate(),\n       temp.getUTCHours(), temp.getUTCMinutes(), temp.getUTCSeconds());\n      return tempUTC < this.addDays(todayUTC, 30) && tempUTC > todayUTC\n    })\n\n    let next3Months = myTasks.filter((el) => {\n      let temp = new Date(el.my_task.due_date)\n      let tempUTC = Date.UTC(temp.getUTCFullYear(), temp.getUTCMonth(), temp.getUTCDate(),\n       temp.getUTCHours(), temp.getUTCMinutes(), temp.getUTCSeconds());\n      return tempUTC < this.addDays(todayUTC,90)\n    })\n    return (\n      <main>\n        <section>\n          <h1 className=\"greeting\">\n          Dashboard:\n          </h1>\n        </section>\n        <div className=\"table\">\n        <section className=\"testing DashboardContainer\">\n            <section className=\"tabsContainer\">\n                <div onClick={() => this.tabClick(0)} className=\"dashboardTab todayTab\">\n                  Today/Overdue\n                </div>\n                <div onClick={() => this.tabClick(1)} className=\"dashboardTab\">\n                  Next 30 Days\n                </div>\n                <div onClick={() => this.tabClick(2)} className=\"dashboardTab\">\n                  Next 3 Months\n                </div>\n\n                <div onClick={() => this.tabClick(5)} className=\"dashboardTab\">\n                  All My Tasks\n                </div>\n            </section>\n        </section>\n\n        <section className=\"tilesContainer\">\n        {(() => {\n                switch(this.state.activeTab) {\n                  case 0:\n                    return todayTasks.length > 0\n                      ?  todayTasks.map((el, i) => {\n                          return <My_Task_Card addDays={this.addDays} key={i} info={el} />\n                         })\n                      : <h3>No tasks due today.</h3>\n                  case 1:\n                    return next30Days.length > 0\n                      ?  next30Days.map((el, i) => {\n                        return <My_Task_Card addDays={this.addDays} key={i} info={el} />\n                      })\n                      : <h3>No tasks due in next 30 days.</h3>\n                  case 2:\n                    return next3Months.length > 0\n                      ?  next3Months.map((el, i) => {\n                        return <My_Task_Card addDays={this.addDays} key={i} info={el} />\n                        })\n                      : <h3>No tasks due in next 90 Days.</h3>\n                  case 3:\n                    return homeTasks.length > 0\n                      ?  homeTasks.map((el, i) => {\n                        return <My_Task_Card addDays={this.addDays} key={i} info={el} />\n                      })\n                      : <h3>Home.</h3>\n                  case 4:\n                    return carTasks.length > 0\n                      ?  carTasks.map((el, i) => {\n                        return <My_Task_Card addDays={this.addDays} key={i} info={el} />\n                      })\n                      : <h3>Car.</h3>\n                  case 5:\n                    return myTasks.length > 0\n                      ?  myTasks.map((el, i) => {\n                        return <My_Task_Card addDays={this.addDays} key={i} info={el} />\n                      })\n                      : <h3>You do not have any tasks assigned to you. Click \"All Tasks\" in the header to assign yourself tasks.</h3>\n                }\n            })()}\n\n        </section>\n        </div>\n      </main>\n    );\n   }\n\n   componentDidMount = () => {\n     let thisUserID = this.auth.getUserId()\n     console.log(thisUserID);\n     if (thisUserID !== null && thisUserID !== undefined && thisUserID.length > 0) {\n       getMyTasks(thisUserID)\n     .then((APImyTasks)=> {\n       // let { myTasks } = this.state\n       this.setState({\n         myTasks: APImyTasks,\n         userID: thisUserID\n       })\n       }\n       )\n     }\n   }\n\n   addDays = function(today, days) {\n     let date = new Date(today)\n     let dateInDays = date.getDate()\n     date.setDate(dateInDays + days);\n     return date;\n   }\n\n   tabClick = (tabNum) => {\n     this.setState({\n       activeTab: tabNum\n     })\n     console.log(tabNum);\n   }\n\n}\n\nexport default Dashboard;\n"]},"metadata":{},"sourceType":"module"}